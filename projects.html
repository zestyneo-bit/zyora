<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - ZYORA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #ffffff;
        }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: fixed; top: 0; left: 0; right: 0;
            z-index: 1000;
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 2rem; font-weight: bold; letter-spacing: 2px; color: #2c2c2c; text-decoration: none; }

        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            transition: 0.3s;
            position: relative;
        }
        .nav-links a:hover,
        .nav-links a.active { color: #2c2c2c; }
        .page-header { margin-top: 100px; padding: 60px 0; background: #f8f8f8; text-align: center; }
        .page-header h1 { font-size: 3rem; font-weight: 300; }
        .section { padding: 80px 0; }

        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }
        .filter-tab {
            padding: 10px 25px;
            background: transparent;
            border: 2px solid #2c2c2c;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
        }
        .filter-tab.active,
        .filter-tab:hover { background: #2c2c2c; color: white; }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }
        .project-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: 0.3s;
        }
        .project-card:hover { transform: translateY(-10px); }

        .project-image { height: 250px; overflow: hidden; position: relative; }
        .project-image img { width: 100%; height: 100%; object-fit: cover; }
        footer { background: #1a1a1a; color: white; text-align: center; padding: 2rem 0; }
    </style>
</head>

<body>
<header>
    <nav class="container">
        <a href="index.html" class="logo">ZYORA</a>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="projects.html" class="active">Projects</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
</header>

<div class="page-header">
    <div class="container">
        <h1>Our Projects</h1>
        <p>Explore our portfolio of exceptional architectural and design achievements</p>
    </div>
</div>

<section class="section">
    <div class="container">
        <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">All Projects</button>
            <button class="filter-tab" data-filter="residential">Residential</button>
            <button class="filter-tab" data-filter="commercial">Commercial</button>
            <button class="filter-tab" data-filter="interior">Interior Design</button>
        </div>

        <div id="projects-list" class="projects-grid">
            <p style="text-align:center; width:100%;" id="loading">Loading projects...</p>
        </div>
    </div>
</section>

<footer>
    <div class="container"><p>&copy; 2024 ZYORA. All rights reserved.</p></div>
</footer>

<!-- FIREBASE v9 MODULE SDK -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBF6wac1nEgBFwEWh5rVE2w0gIs2PWfnNY",
  authDomain: "zyora-86720.firebaseapp.com",
  projectId: "zyora-86720",
  storageBucket: "zyora-86720.firebasestorage.app",
  messagingSenderId: "382434590728",
  appId: "1:382434590728:web:c9fa2f938872f5d4fcd1bd"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const projectGrid = document.getElementById("projects-list");
const loadingEl = document.getElementById("loading");

async function loadProjects() {
    const snap = await getDocs(collection(db, "projects"));
    loadingEl.remove();

    if (snap.empty) {
        projectGrid.innerHTML = "<p style='text-align:center;width:100%;'>No projects found yet.</p>";
        return;
    }

    snap.forEach(doc => {
        const d = doc.data();
        const img = d.imageUrls?.[0] || d.images?.[0] || "https://via.placeholder.com/400";

        const card = document.createElement("div");
        card.className = "project-card";
        card.setAttribute("data-category", d.category?.toLowerCase() || "other");

        card.innerHTML = `
            <div class="project-image">
                <img src="${img}">
            </div>
            <div class="project-info">
                <div class="project-category">${d.category || "Project"}</div>
                <h3>${d.title || "Untitled"}</h3>
                <p>${(d.description || "").substring(0,120)}...</p>
            </div>
        `;

        projectGrid.appendChild(card);
    });
}

loadProjects();

document.querySelectorAll('.filter-tab').forEach(tab => {
    tab.addEventListener('click', () => {
        document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        const filter = tab.dataset.filter;
        document.querySelectorAll('.project-card').forEach(card => {
            card.style.display =
                filter === 'all' || card.dataset.category === filter ? 'block' : 'none';
        });
    });
});
</script>

</body>
</html>
